# План тестирования Dataminer v0.1

## Этап 7: Тестирование

### 7.1 Функциональное тестирование

#### 7.1.1 Тест основного сценария: выбор → извлечение → экспорт

**Шаги:**
1. Открыть любую веб-страницу (например, https://example.com)
2. Открыть popup расширения
3. Нажать "Select Element"
4. Выбрать элемент на странице (кликнуть на него)
5. Нажать "Done" для завершения выбора
6. Вернуться в popup
7. Нажать "Extract Data"
8. Дождаться завершения извлечения
9. Проверить таблицу предпросмотра
10. Нажать "Export CSV" или "Export JSON"
11. Проверить скачанный файл

**Ожидаемый результат:**
- ✅ Элементы выбираются корректно
- ✅ Данные извлекаются успешно
- ✅ Таблица отображается правильно
- ✅ Файл экспортируется и содержит корректные данные

---

#### 7.1.2 Тест с различными типами элементов

**Тест 1: Текстовые элементы**
- Выбрать элемент с текстом (например, заголовок, параграф)
- Проверить, что извлекается textContent

**Тест 2: Ссылки**
- Выбрать элемент `<a>` с href
- Проверить, что извлекается href, а не textContent

**Тест 3: Изображения**
- Выбрать элемент `<img>` с src
- Проверить, что извлекается src

**Тест 4: Множественные элементы**
- Выбрать несколько элементов одного типа
- Проверить, что все элементы извлекаются

**Тест 5: Множественные селекторы**
- Выбрать элементы разных типов (текст + ссылка)
- Проверить, что данные выравниваются по индексу

**Ожидаемый результат:**
- ✅ Каждый тип элемента обрабатывается правильно
- ✅ Множественные элементы извлекаются корректно
- ✅ Множественные селекторы выравниваются правильно

---

#### 7.1.3 Тест экспорта в JSON

**Шаги:**
1. Извлечь данные
2. Нажать "Export JSON"
3. Открыть скачанный файл
4. Проверить формат JSON

**Ожидаемый формат:**
```json
[
  { "index": 1, "value": "Значение 1" },
  { "index": 2, "value": "Значение 2" }
]
```

**Ожидаемый результат:**
- ✅ Файл имеет расширение .json
- ✅ JSON валидный
- ✅ Формат соответствует спецификации
- ✅ Все данные присутствуют

---

#### 7.1.4 Тест экспорта в CSV

**Шаги:**
1. Извлечь данные
2. Нажать "Export CSV"
3. Открыть скачанный файл в Excel/Google Sheets
4. Проверить формат CSV

**Ожидаемый формат:**
```csv
index,value
1,"Значение 1"
2,"Значение 2"
```

**Ожидаемый результат:**
- ✅ Файл имеет расширение .csv
- ✅ CSV валидный
- ✅ Формат соответствует спецификации
- ✅ Все данные присутствуют
- ✅ Специальные символы экранированы правильно

---

#### 7.1.5 Тест на разных типах страниц

**Тест 1: Страницы со списками**
- Сайт: https://example.com или любой сайт со списком элементов
- Выбрать элементы списка
- Проверить извлечение всех элементов

**Тест 2: Страницы с карточками**
- Сайт: любой e-commerce сайт или сайт с карточками товаров
- Выбрать элементы карточек (название, цена, ссылка)
- Проверить извлечение данных

**Тест 3: Страницы с таблицами**
- Сайт: любой сайт с HTML таблицами
- Выбрать элементы таблицы
- Проверить извлечение данных

**Ожидаемый результат:**
- ✅ Работает на всех типах страниц
- ✅ Данные извлекаются корректно

---

### 7.2 Тестирование производительности

#### 7.2.1 Проверка времени извлечения данных

**Тест:**
1. Выбрать селектор, который находит много элементов (50+)
2. Запустить извлечение
3. Засечь время от начала до завершения
4. Проверить, что время < 30 секунд

**Ожидаемый результат:**
- ✅ Извлечение завершается менее чем за 30 секунд для типичных страниц
- ✅ Прогресс-бар обновляется плавно

---

#### 7.2.2 Тест на страницах с большим количеством элементов

**Тест:**
1. Открыть страницу с большим количеством элементов (100+)
2. Выбрать селектор, который находит все элементы
3. Запустить извлечение
4. Проверить производительность

**Ожидаемый результат:**
- ✅ Расширение не зависает
- ✅ Данные извлекаются корректно
- ✅ Память не переполняется

---

#### 7.2.3 Тест на страницах с динамическим контентом

**Тест:**
1. Открыть страницу с динамическим контентом (SPA, React, Vue)
2. Выбрать элементы, которые загружаются динамически
3. Запустить извлечение
4. Проверить, что элементы находятся

**Ожидаемый результат:**
- ✅ Динамический контент обрабатывается
- ✅ Элементы находятся после загрузки

---

### 7.3 Тестирование обработки ошибок

#### 7.3.1 Тест: элемент не найден

**Шаги:**
1. Выбрать элемент
2. Удалить элемент со страницы (через DevTools)
3. Запустить извлечение
4. Проверить сообщение об ошибке

**Ожидаемый результат:**
- ✅ Понятное сообщение об ошибке
- ✅ Расширение не падает

---

#### 7.3.2 Тест: нет данных для экспорта

**Шаги:**
1. Не извлекать данные
2. Попытаться экспортировать
3. Проверить сообщение

**Ожидаемый результат:**
- ✅ Кнопка экспорта disabled
- ✅ Понятное сообщение, если попытаться экспортировать

---

#### 7.3.3 Тест: недоступная страница

**Шаги:**
1. Открыть chrome://extensions/
2. Попытаться выбрать элемент
3. Проверить сообщение

**Ожидаемый результат:**
- ✅ Понятное сообщение об ошибке
- ✅ Расширение не падает

---

### 7.4 Кроссбраузерное тестирование

#### 7.4.1 Тест в Chrome

**Версии для тестирования:**
- Chrome последняя версия
- Chrome предыдущая версия (если доступна)

**Ожидаемый результат:**
- ✅ Работает на всех версиях Chrome

---

#### 7.4.2 Проверка совместимости с Manifest V3

**Проверки:**
- ✅ manifest.json использует manifest_version: 3
- ✅ background.js использует service worker
- ✅ Нет использования устаревших API
- ✅ Все разрешения указаны правильно

---

### 7.5 Проверка критериев готовности MVP

#### Критерий 1: Время получения таблицы < 30 секунд
- ✅ Тест: 7.2.1

#### Критерий 2: Работает на типовых страницах
- ✅ Тест: 7.1.5

#### Критерий 3: Функциональность соответствует описанию
- ✅ Тест: 7.1.1, 7.1.2, 7.1.3, 7.1.4

---

## Чеклист тестирования

### Базовое функциональное тестирование
- [ ] Выбор элементов работает
- [ ] Извлечение данных работает
- [ ] Экспорт CSV работает
- [ ] Экспорт JSON работает
- [ ] Таблица предпросмотра отображается правильно

### Тестирование типов элементов
- [ ] Текстовые элементы извлекаются правильно
- [ ] Ссылки извлекаются правильно
- [ ] Изображения извлекаются правильно
- [ ] Множественные элементы извлекаются правильно
- [ ] Множественные селекторы выравниваются правильно

### Тестирование производительности
- [ ] Извлечение < 30 секунд для типичных страниц
- [ ] Работает на страницах с большим количеством элементов
- [ ] Работает на страницах с динамическим контентом

### Тестирование обработки ошибок
- [ ] Элемент не найден - показывается сообщение
- [ ] Нет данных для экспорта - кнопка disabled
- [ ] Недоступная страница - показывается сообщение

### Кроссбраузерное тестирование
- [ ] Работает в Chrome последней версии
- [ ] Совместимо с Manifest V3

---

## Отчет о тестировании

После завершения тестирования заполнить:
- Дата тестирования: ___________
- Версия Chrome: ___________
- Количество найденных багов: ___________
- Критические баги: ___________
- Некритические баги: ___________

### Найденные проблемы

1. **Проблема:** ___________
   - **Шаги воспроизведения:** ___________
   - **Ожидаемое поведение:** ___________
   - **Фактическое поведение:** ___________
   - **Приоритет:** [ ] Критический [ ] Высокий [ ] Средний [ ] Низкий

---

**Статус:** В процессе
**Дата создания:** 16.12.2025

