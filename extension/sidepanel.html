<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Scraping Tool</title>
    <link rel="stylesheet" href="sidepanel.css">
</head>
<body>
    <div class="panel-container">
        <!-- Controls -->
        <section class="panel-controls">
            <button id="selectBtn" class="btn btn-primary">
                <span class="btn-icon">▶</span>
                <span class="btn-text">Select Elements</span>
            </button>
            <button id="clearBtn" class="btn btn-danger" disabled>
                <span class="btn-text">Clear All</span>
            </button>
        </section>

        <!-- Stats -->
        <section class="panel-stats">
            <span class="stat-text" id="statText">0 columns · 0 rows extracted</span>
            <span class="stat-limit" id="limitText" style="display: none;">Extracts data only from the current page</span>
        </section>

        <!-- Preview Table -->
        <section class="panel-preview" id="previewSection">
            <div class="preview-context" id="previewContext" style="display: none;"></div>
            <div class="preview-empty" id="emptyState">
                <img class="empty-icon" src="icons/logo_transparent.png" alt="Data Scraping Tool">
                <p class="empty-text">Select elements on the page</p>
                <p class="empty-hint">Each click adds a column</p>
            </div>
            <div class="preview-table-wrapper" id="tableWrapper" style="display: none;">
                <table class="preview-table" id="previewTable">
                    <thead id="tableHead"></thead>
                    <tbody id="tableBody"></tbody>
                </table>
            </div>
            <div class="preview-more" id="moreRows" style="display: none;"></div>
        </section>

        <!-- Export -->
        <section class="panel-export">
            <button id="exportCSV" class="btn btn-export" disabled>
                <span class="btn-icon">⬇</span>
                <span class="btn-text">Export CSV</span>
            </button>
            <button id="exportJSON" class="btn btn-export" disabled>
                <span class="btn-icon">⬇</span>
                <span class="btn-text">Export JSON</span>
            </button>
        </section>

        <!-- Rating Widget -->
        <section class="panel-rating">
            <div class="rating-divider"></div>
            <p class="rating-text">Rate us:</p>
            <div class="rating-stars">
                <div class="rating-group">
                    <button class="rating-star" data-rating="1" data-url="https://docs.google.com/forms/d/e/1FAIpQLSeGg2t_9vJMYLVPqYemWH63VHLWeSOE8H9MOejeQSGgQNhBBw/viewform">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
                            <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/>
                        </svg>
                    </button>
                    <button class="rating-star" data-rating="2" data-url="https://docs.google.com/forms/d/e/1FAIpQLSeGg2t_9vJMYLVPqYemWH63VHLWeSOE8H9MOejeQSGgQNhBBw/viewform">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
                            <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/>
                        </svg>
                    </button>
                    <button class="rating-star" data-rating="3" data-url="https://docs.google.com/forms/d/e/1FAIpQLSeGg2t_9vJMYLVPqYemWH63VHLWeSOE8H9MOejeQSGgQNhBBw/viewform">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
                            <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/>
                        </svg>
                    </button>
                    <button class="rating-star" data-rating="4" data-url="https://chromewebstore.google.com/detail/data-scraping-tool/ejcgomaeiikgjcebfmhaoddenaijpgfb/reviews">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
                            <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/>
                        </svg>
                    </button>
                    <button class="rating-star" data-rating="5" data-url="https://chromewebstore.google.com/detail/data-scraping-tool/ejcgomaeiikgjcebfmhaoddenaijpgfb/reviews">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
                            <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </section>

        <!-- Toast container -->
        <div id="toastContainer" class="toast-container"></div>
    </div>

    <script src="sidepanel.js"></script>
</body>
</html>

