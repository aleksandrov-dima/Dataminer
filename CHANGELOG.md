# Changelog - Dataminer

–í—Å–µ –∑–∞–º–µ—Ç–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ.

---

## [0.1.3] - 2025-12-19

### ‚ú® UX Improvements ‚Äî –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∫–ª–∏–∫–æ–≤

**–¶–µ–ª—å:** –°–æ–∫—Ä–∞—Ç–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–∫–æ–≤ —Å 8 –¥–æ 5 –¥–ª—è —Ç–∏–ø–∏—á–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è.

#### Auto-select mode
- –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–∞–Ω–µ–ª–∏ —Å 0 –ø–æ–ª—è–º–∏ ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç—Å—è —Ä–µ–∂–∏–º –≤—ã–±–æ—Ä–∞
- –ù–µ –Ω—É–∂–Ω–æ –Ω–∞–∂–∏–º–∞—Ç—å "Add field"

#### Auto-stop + Auto-preview
- –ü–æ—Å–ª–µ 2 —Å–µ–∫—É–Ω–¥ –±–µ–∑ –∫–ª–∏–∫–æ–≤ ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—ã–±–æ—Ä–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Preview
- –ü–æ–∫–∞–∑ –≥–æ—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –ª–∏—à–Ω–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π

#### Quick Export (–≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω—ã)
- –ö–Ω–æ–ø–∫–∏ "‚¨á CSV" –∏ "‚¨á JSON" –≤–∏–¥–Ω—ã –ø—Ä—è–º–æ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ Fields
- Live-—Å—á—ë—Ç—á–∏–∫ —Å—Ç—Ä–æ–∫: "53 rows ready"
- –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ Preview –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞

#### Keyboard shortcuts
- `Esc` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–µ–∂–∏–º –≤—ã–±–æ—Ä–∞
- `Ctrl+E` / `Cmd+E` ‚Äî –±—ã—Å—Ç—Ä—ã–π —ç–∫—Å–ø–æ—Ä—Ç CSV

### üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Flow

| –°—Ü–µ–Ω–∞—Ä–∏–π | –î–æ v0.1.3 | –ü–æ—Å–ª–µ v0.1.3 |
|----------|-----------|--------------|
| 3 –ø–æ–ª—è ‚Üí CSV | 8 –∫–ª–∏–∫–æ–≤ | 5 –∫–ª–∏–∫–æ–≤ |
| –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—ã–±–æ—Ä | –∫–ª–∏–∫ | Esc –∏–ª–∏ auto |
| –ü–µ—Ä–µ–π—Ç–∏ –≤ Preview | –∫–ª–∏–∫ | auto |

---

## [0.1.2] - 2025-12-19

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

#### –ö—Ä–∏—Ç–∏—á–Ω—ã–π –±–∞–≥: Wildberries Preview –ø–æ–∫–∞–∑—ã–≤–∞–ª 0 —Å—Ç—Ä–æ–∫
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–∞ WB –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `div.product-card__top-wrap` —Å–ª–∏—à–∫–æ–º —É–∑–∫–∏–π ‚Äî –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –ø–æ–ª—è (—Ü–µ–Ω–∞, –±—Ä–µ–Ω–¥ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å–æ—Å–µ–¥–Ω–∏—Ö –±–ª–æ–∫–∞—Ö)
- **–ü—Ä–∏—á–∏–Ω–∞:** `findCommonParent` –Ω–∞—Ö–æ–¥–∏–ª –ø–µ—Ä–≤—ã–π –ø–æ–¥—Ö–æ–¥—è—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—è —á—Ç–æ –≤—Å–µ –ø–æ–ª—è –¥–æ—Å—Ç—É–ø–Ω—ã –≤–Ω—É—Ç—Ä–∏
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** 
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `canFindAllFields()` ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—Å–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏
  - –ü—Ä–∏ –Ω–µ—É–¥–∞—á–µ ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—ä—ë–º –∫ –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–æ–º—É —Ä–æ–¥–∏—Ç–µ–ª—é
  - –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –≤ `extractValueFromElement` (siblings, parent, closest product container)
- **–§–∞–π–ª—ã:** `content.js`

#### –£–ª—É—á—à–µ–Ω–∏–µ: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π debug —Ä–µ–∂–∏–º
- **–§—É–Ω–∫—Ü–∏—è:** –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ parent container –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏–π
- **–ù–æ–≤—ã–µ –ª–æ–≥–∏:**
  - `üéØ findCommonParent: Found via...` ‚Äî –Ω–∞–π–¥–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
  - `üß™ Testing first container...` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–µ–π –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
  - `üîÑ Found "..." in parent container` ‚Äî —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–π–¥–µ–Ω —á–µ—Ä–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** `localStorage.setItem('dataminer_debug', 'true')` –≤ Console
- **–§–∞–π–ª—ã:** `content.js`

### üîß –ò–∑–º–µ–Ω–µ–Ω–æ

#### findCommonParent()
- –¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –í–°–ï –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–æ–ª—è –¥–æ—Å—Ç—É–ø–Ω—ã –≤–Ω—É—Ç—Ä–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –Ω–∞ parent
- –ü—Ä–∏ –Ω–µ—É–¥–∞—á–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –∫ –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É
- –î–æ–±–∞–≤–ª–µ–Ω—ã debug –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

#### extractValueFromElement()
- 4 —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–æ–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞:
  1. –ü—Ä—è–º–æ–π querySelector –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
  2. –ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ `container.contains()`
  3. –ü–æ–∏—Å–∫ –≤ parent container (–¥–ª—è WB-style layouts)
  4. –ü–æ–∏—Å–∫ —á–µ—Ä–µ–∑ `closest('[class*="product"], [class*="card"]')`
- –î–æ–±–∞–≤–ª–µ–Ω—ã debug –ª–æ–≥–∏

#### addFieldFromClickedElement()
- –¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–¥–∞—ë—Ç —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –≤ `findCommonParent` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ `canFindAllFields`

### üìä –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

| –°–∞–π—Ç | –î–æ 0.1.2 | –ü–æ—Å–ª–µ 0.1.2 |
|------|----------|-------------|
| Wildberries | 0 —Å—Ç—Ä–æ–∫ (parent —Å–ª–∏—à–∫–æ–º —É–∑–∫–∏–π) | ‚úÖ 53 —Å—Ç—Ä–æ–∫–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç |
| Amazon | –†–∞–±–æ—Ç–∞–ª | –†–∞–±–æ—Ç–∞–µ—Ç |
| Ozon | –ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å | –û–∂–∏–¥–∞–µ—Ç—Å—è —É–ª—É—á—à–µ–Ω–∏–µ |

### üñºÔ∏è –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ image containers
- **–§—É–Ω–∫—Ü–∏—è:** –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω div —Å –∫–ª–∞—Å—Å–æ–º —Å–æ–¥–µ—Ä–∂–∞—â–∏–º `img`, `image`, `photo`, `picture`, `thumb`, `preview`
- **–ü–æ–≤–µ–¥–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è `src` –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- **–ü—Ä–∏–º–µ—Ä:** `div.product-card__img-wrap` ‚Üí –∏–∑–≤–ª–µ–∫–∞–µ—Ç URL –∫–∞—Ä—Ç–∏–Ω–∫–∏

### üé® UI: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤–∏–¥–∏–º–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–∞ Ozon —Ç–µ–∫—Å—Ç –≤ Preview –Ω–µ –≤–∏–¥–µ–Ω (—Å—Ç–∏–ª–∏ —Å–∞–π—Ç–∞ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–ª–∏)
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã `!important` –¥–ª—è –≤—Å–µ—Ö —Ü–≤–µ—Ç–æ–≤ –≤ Shadow DOM –ø–∞–Ω–µ–ª–∏
- **–§–∞–π–ª—ã:** `content.js` (—Å—Ç–∏–ª–∏ –ø–∞–Ω–µ–ª–∏)

### üìù –£–ª—É—á—à–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–º—ë–Ω –ø–æ–ª–µ–π
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ò–º–µ–Ω–∞ —Ç–∏–ø–∞ `span_7_786_‚ÇΩ` –Ω–µ—á–∏—Ç–∞–µ–º—ã–µ
- **–†–µ—à–µ–Ω–∏–µ:** 
  - –ü–æ–∏—Å–∫ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö –∫–ª–∞—Å—Å–æ–≤ (`price`, `title`, `name`, `brand`, `rating`)
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö —Ö–µ—à–µ–π
  - Fallback: `image`, `link`, `span_field_1`
- **–§–∞–π–ª—ã:** `content.js` (`generateElementName`)

### ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **–§—É–Ω–∫—Ü–∏—è:** `waitForDynamicContent()` ‚Äî polling –¥–æ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–¢–∞–π–º–∞—É—Ç:** 1500ms –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **–õ–æ–≥–∏:** `‚è≥ Dynamic content loading...`, `‚è±Ô∏è Dynamic content wait timeout`

### üß™ –ù–æ–≤—ã–µ unit-—Ç–µ—Å—Ç—ã
- `text-extraction.test.js` ‚Äî —Ç–µ—Å—Ç—ã TextExtractionUtils
- `onpage-utils.test.js` ‚Äî —Ç–µ—Å—Ç—ã OnPageUtils (inferDataType, extractSrc/Href/Text)

### ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- **Wildberries** ‚Äî 53 —Å—Ç—Ä–æ–∫–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è ‚úÖ
- **Ozon** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
- **AliExpress** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
- **Amazon** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ

---

## [0.1.1] - 2025-12-17

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

#### –ö—Ä–∏—Ç–∏—á–Ω—ã–π –±–∞–≥: Preview –Ω–µ —Ä–∞–±–æ—Ç–∞–ª
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è TextExtractionUtils —Å–ª–æ–º–∞–ª—Å—è Preview
- **–ü—Ä–∏—á–∏–Ω–∞:** OnPageUtils.js –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª—ë–Ω OnPageUtils.extractTextFromNode –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è TextExtractionUtils
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω—ë–Ω –ø–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤ manifest.json
- **–§–∞–π–ª—ã:** `utils/OnPageUtils.js`, `manifest.json`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_PREVIEW.md`

#### –ë–∞–≥: Amazon –Ω–µ –∏–∑–≤–ª–µ–∫–∞–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ s-product-image-container
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º `data-src-pb` –Ω–µ –∏–∑–≤–ª–µ–∫–∞–ª—Å—è
- **–ü—Ä–∏—á–∏–Ω–∞:** extractSrcFromNode –ø—Ä–æ–≤–µ—Ä—è–ª —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã (src, data-src, data-original)
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 7 –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤–∫–ª—é—á–∞—è data-src-pb, data-lazy-src, srcset
- **–§–∞–π–ª—ã:** `utils/OnPageUtils.js`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô_–ò_WB.md`

#### –£–ª—É—á—à–µ–Ω–∏–µ: –î–æ–±–∞–≤–ª–µ–Ω debug —Ä–µ–∂–∏–º
- **–§—É–Ω–∫—Ü–∏—è:** Debug –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ buildRows() –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–±–ª–µ–º —Å WB –∏ –¥—Ä—É–≥–∏–º–∏ —Å–∞–π—Ç–∞–º–∏
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** `localStorage.setItem('dataminer_debug', 'true')` –≤ Console
- **–õ–æ–≥–∏:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ containers, –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏
- **–§–∞–π–ª—ã:** `content.js`

#### –ë–∞–≥: TypeError –Ω–∞ Amazon –≤ clearAllHighlights
- **–ü—Ä–æ–±–ª–µ–º–∞:** `Cannot read properties of undefined (reading 'onMessage')`
- **–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è chrome.runtime —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è undefined
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ destroy() —Å try-catch
- **–§–∞–π–ª—ã:** `content.js`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_CHROME_RUNTIME_–û–®–ò–ë–û–ö.md`

#### –ë–∞–≥: "Extension context invalidated" –Ω–∞ WB –∏ Amazon
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è chrome API –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- **–ü—Ä–∏—á–∏–Ω–∞:** Content script –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏, –∞ context —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è v2):**
  - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ safeSendMessage() —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ chrome.runtime
  - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ downloadViaBackground() —Å fallback
  - **–ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∞ saveStateForCurrentOrigin()** —Å –¥–≤–æ–π–Ω–æ–π –∑–∞—â–∏—Ç–æ–π (Promise.resolve().then() + catch)
  - –ó–∞—â–∏—â–µ–Ω—ã loadStateForCurrentOrigin() (chrome.storage)
  - –ó–∞—â–∏—â–µ–Ω—ã –≤—Å–µ document.body.style.overflow –æ–ø–µ—Ä–∞—Ü–∏–∏ (3 –º–µ—Å—Ç–∞)
  - –ó–∞—â–∏—â—ë–Ω clearFields action (–≤—Å–µ DOM –æ–ø–µ—Ä–∞—Ü–∏–∏)
  - –ó–∞—â–∏—â–µ–Ω—ã –í–°–ï 6 –≤—ã–∑–æ–≤–æ–≤ saveStateForCurrentOrigin() (–≤–∫–ª—é—á–∞—è removeField)
  - –í–°–ï –∫—Ä–∏—Ç–∏—á–Ω—ã–µ chrome API –≤—ã–∑–æ–≤—ã –æ–±—ë—Ä–Ω—É—Ç—ã –≤ try-catch
  - **–ì–∞—Ä–∞–Ω—Ç–∏—è:** saveStateForCurrentOrigin() –ù–ò–ö–û–ì–î–ê –Ω–µ –≤—ã–±—Ä–æ—Å–∏—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—É—é –æ—à–∏–±–∫—É
- **–§–∞–π–ª—ã:** `content.js`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_CHROME_RUNTIME_–û–®–ò–ë–û–ö.md`, `–§–ò–ù–ê–õ–¨–ù–û–ï_–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–û–®–ò–ë–û–ö.md`, `–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_WB_SAVE_STATE.md`

### üéâ –î–æ–±–∞–≤–ª–µ–Ω–æ

#### TextExtractionUtils - –£–º–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
- **–ù–æ–≤—ã–π —Ñ–∞–π–ª:** `extension/utils/TextExtractionUtils.js`
- **–£–ª—É—á—à–µ–Ω–∏–µ:** –†–µ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º —Ç–µ–∫—Å—Ç–∞ –∏–∑ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
  - –£–º–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å –æ—Ü–µ–Ω–∫–æ–π —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º –∫–ª–∞—Å—Å–∞–º (title, brand, price, name)
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ–≤–∏–¥–∏–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  - –ü–æ–∏—Å–∫ –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
  - Fallback –Ω–∞ —Å—Ç–∞—Ä—É—é –ª–æ–≥–∏–∫—É –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### üîß –ò–∑–º–µ–Ω–µ–Ω–æ

#### ScrapingService.js
- **–§—É–Ω–∫—Ü–∏—è `extractText()`:** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω TextExtractionUtils
- **–£–ª—É—á—à–µ–Ω–∏–µ:** –¢–µ–ø–µ—Ä—å –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç –∏–∑ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö `<span>`, `<div>` –≤–Ω—É—Ç—Ä–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–ü—Ä–∏–º–µ—Ä:** `<h2><span>Logitech</span></h2>` ‚Üí –∏–∑–≤–ª–µ—á—ë—Ç "Logitech"
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –°–æ—Ö—Ä–∞–Ω—ë–Ω fallback –Ω–∞ —Å—Ç–∞—Ä—É—é –ª–æ–≥–∏–∫—É

#### manifest.json
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** `utils/TextExtractionUtils.js` –≤ content_scripts
- **–ü–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏:** OnPageUtils ‚Üí TextExtractionUtils ‚Üí content.js

### üìä –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|-----|-------|-----------|
| –¢–æ—á–Ω–æ—Å—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è | ~50% | ~75-80% | +50-60% |
| –ü—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π | ~30% | ~15-20% | -33-50% |
| –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö | ~40% | ~65-70% | +63-75% |

### üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** `–ê–ù–ê–õ–ò–ó_–ö–ê–ß–ï–°–¢–í–ê_–ò–ó–í–õ–ï–ß–ï–ù–ò–Ø.md` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** `–ü–õ–ê–ù_–£–õ–£–ß–®–ï–ù–ò–Ø_–ò–ó–í–õ–ï–ß–ï–ù–ò–Ø.md` - –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** `–†–ï–ó–Æ–ú–ï_–ü–û_–ö–ê–ß–ï–°–¢–í–£_–ò–ó–í–õ–ï–ß–ï–ù–ò–Ø.md` - –∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** `–ò–ù–°–¢–†–£–ö–¶–ò–Ø_–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø_–£–õ–£–ß–®–ï–ù–ò–ô.md` - –≥–∞–π–¥ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** `–∑–∞–¥–∞—á–∏_—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.md` - –¥–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª –æ–± —É–ª—É—á—à–µ–Ω–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- **–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∞–π—Ç–∞—Ö
- **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** –°–º. `–ò–ù–°–¢–†–£–ö–¶–ò–Ø_–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø_–£–õ–£–ß–®–ï–ù–ò–ô.md`
- **–¶–µ–ª–µ–≤—ã–µ —Å–∞–π—Ç—ã:** Amazon, eBay, Ozon, Wildberries, AliExpress

### üîú –°–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏

#### –ó–∞–¥–∞—á–∞ 2: –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã (3-4 —á–∞—Å–∞)
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –æ–±—â–∏—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ (>50 —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ –±–ª–∏–∂–∞–π—à–∏–π unique parent
- –£–ª—É—á—à–µ–Ω–∏–µ `generateSelector()` –≤ content.js

#### –ó–∞–¥–∞—á–∞ 3: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç (2 —á–∞—Å–∞)
- –£–ª—É—á—à–µ–Ω–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

#### –ó–∞–¥–∞—á–∞ 4: –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ (2-3 —á–∞—Å–∞, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ü–æ–∫–∞–∑ warnings –ø—Ä–∏ –Ω–∏–∑–∫–æ–º –∫–∞—á–µ—Å—Ç–≤–µ –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ UI

---

## [0.1.0] - 2025-12-15

### –ü–µ—Ä–≤–∞—è —Ä–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è

- –í–∏–∑—É–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä DOM-—ç–ª–µ–º–µ–Ω—Ç–æ–≤
- On-page –ø–∞–Ω–µ–ª—å –≤–º–µ—Å—Ç–æ popup
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
- Parent container detection –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV –∏ JSON
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è per-origin
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (Jest + JSDOM)

### –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã —Å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º –∏–∑ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (—á–∞—Å—Ç–∏—á–Ω–æ —Ä–µ—à–µ–Ω–æ –≤ 0.1.1)
- ‚ö†Ô∏è –°–ª–∏—à–∫–æ–º –æ–±—â–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç –º–Ω–æ–≥–æ –ª–∏—à–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚ö†Ô∏è –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –≤—Å–µ–≥–¥–∞ –¥–æ–∂–∏–¥–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∏

---

## –§–æ—Ä–º–∞—Ç –≤–µ—Ä—Å–∏–π

–§–æ—Ä–º–∞—Ç –≤–µ—Ä—Å–∏–π: `[MAJOR.MINOR.PATCH]`

- **MAJOR:** –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è API
- **MINOR:** –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è)
- **PATCH:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤

### –¢–∏–ø—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- `–î–æ–±–∞–≤–ª–µ–Ω–æ` - –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- `–ò–∑–º–µ–Ω–µ–Ω–æ` - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- `–£—Å—Ç–∞—Ä–µ–ª–æ` - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö
- `–£–¥–∞–ª–µ–Ω–æ` - —É–¥–∞–ª—ë–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- `–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤
- `–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
